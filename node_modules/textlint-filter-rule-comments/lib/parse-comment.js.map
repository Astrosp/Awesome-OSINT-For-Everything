{"version":3,"file":"parse-comment.js","names":["Object","defineProperty","exports","value","getValuesFromHTMLComment","isHTMLComment","parseListConfig","parseRuleIds","removeCommentDescription","HTML_COMMENT_REGEXP","htmlString","test","commentValue","results","replace","all","comment","push","string","items","split","forEach","name","trim","keys","index","indexOf","slice"],"sources":["../src/parse-comment.js"],"sourcesContent":["// LICENSE : MIT\n\"use strict\";\nconst HTML_COMMENT_REGEXP = /<!--((?:.|\\s)*?)-->/g;\nexport function isHTMLComment(htmlString) {\n    return HTML_COMMENT_REGEXP.test(htmlString);\n}\n\n/**\n * get comment value from html comment tag\n * @param {string} commentValue <!-- comment -->\n * @returns {string[]}\n */\nexport function getValuesFromHTMLComment(commentValue) {\n    const results = [];\n    commentValue.replace(HTML_COMMENT_REGEXP, function(all, comment){\n        results.push(comment);\n    });\n    return results;\n}\n/**\n * Parses a config of values separated by comma.\n * @param {string} string The string to parse.\n * @returns {Object} Result map of values and true values\n */\nexport function parseListConfig(string) {\n    const items = {};\n\n    // Collapse whitespace around ,\n    string = string.replace(/\\s*,\\s*/g, \",\");\n    string.split(/,+/).forEach(function (name) {\n        name = name.trim();\n        if (!name) {\n            return;\n        }\n        items[name] = true;\n    });\n    return items;\n}\n\n/**\n * parse \"textlint-enable aRule, bRule\" and return [\"aRule\", \"bRule\"]\n * @param {string} string\n * @returns {string[]}\n */\nexport function parseRuleIds(string) {\n    return Object.keys(parseListConfig(string));\n}\n\n/**\n * Remove trailing description part that follows `--` in comment directives.\n * @param {string} string\n * @returns {string}\n * @example\n * removeCommentDescription(\" ruleA -- because of reasons\"); // => \" ruleA \"\n */\nexport function removeCommentDescription(string) {\n    if (!string) {\n        return string;\n    }\n    const index = string.indexOf(\"--\");\n    if (index === -1) {\n        return string;\n    }\n    return string.slice(0, index);\n}\n"],"mappings":"AAAA;AACA,YAAY;;AAACA,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,wBAAA,GAAAA,wBAAA;AAAAF,OAAA,CAAAG,aAAA,GAAAA,aAAA;AAAAH,OAAA,CAAAI,eAAA,GAAAA,eAAA;AAAAJ,OAAA,CAAAK,YAAA,GAAAA,YAAA;AAAAL,OAAA,CAAAM,wBAAA,GAAAA,wBAAA;AACb,IAAMC,mBAAmB,GAAG,sBAAsB;AAC3C,SAASJ,aAAaA,CAACK,UAAU,EAAE;EACtC,OAAOD,mBAAmB,CAACE,IAAI,CAACD,UAAU,CAAC;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACO,SAASN,wBAAwBA,CAACQ,YAAY,EAAE;EACnD,IAAMC,OAAO,GAAG,EAAE;EAClBD,YAAY,CAACE,OAAO,CAACL,mBAAmB,EAAE,UAASM,GAAG,EAAEC,OAAO,EAAC;IAC5DH,OAAO,CAACI,IAAI,CAACD,OAAO,CAAC;EACzB,CAAC,CAAC;EACF,OAAOH,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACO,SAASP,eAAeA,CAACY,MAAM,EAAE;EACpC,IAAMC,KAAK,GAAG,CAAC,CAAC;;EAEhB;EACAD,MAAM,GAAGA,MAAM,CAACJ,OAAO,CAAC,UAAU,EAAE,GAAG,CAAC;EACxCI,MAAM,CAACE,KAAK,CAAC,IAAI,CAAC,CAACC,OAAO,CAAC,UAAUC,IAAI,EAAE;IACvCA,IAAI,GAAGA,IAAI,CAACC,IAAI,CAAC,CAAC;IAClB,IAAI,CAACD,IAAI,EAAE;MACP;IACJ;IACAH,KAAK,CAACG,IAAI,CAAC,GAAG,IAAI;EACtB,CAAC,CAAC;EACF,OAAOH,KAAK;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACO,SAASZ,YAAYA,CAACW,MAAM,EAAE;EACjC,OAAOlB,MAAM,CAACwB,IAAI,CAAClB,eAAe,CAACY,MAAM,CAAC,CAAC;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASV,wBAAwBA,CAACU,MAAM,EAAE;EAC7C,IAAI,CAACA,MAAM,EAAE;IACT,OAAOA,MAAM;EACjB;EACA,IAAMO,KAAK,GAAGP,MAAM,CAACQ,OAAO,CAAC,IAAI,CAAC;EAClC,IAAID,KAAK,KAAK,CAAC,CAAC,EAAE;IACd,OAAOP,MAAM;EACjB;EACA,OAAOA,MAAM,CAACS,KAAK,CAAC,CAAC,EAAEF,KAAK,CAAC;AACjC","ignoreList":[]}